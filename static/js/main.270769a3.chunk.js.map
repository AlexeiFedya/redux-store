{"version":3,"sources":["components/error-indicator/error-indicator.png","components/pages/cart-page.js","components/book-list-item/book-list-item.js","components/bookstore-services-context/bookstore-service-context.js","components/hoc/with-bookstore-service.js","actions/actions.js","utils/compose.js","components/loader/loader.js","components/error-indicator/error-indicator.js","components/book-list/book-list.js","components/shop-cart-table/shop-cart-table.js","components/pages/home-page.js","components/store-header/store-header.js","components/app/app.js","components/error-boundry/error-boundry.js","servises/bookstore-service.js","reducers/bookList.js","reducers/shoppingCart.js","reducers/reducer.js","store.js","index.js"],"names":["module","exports","CartPage","BookListItem","book","onAddedToCart","title","author","price","coverImage","className","src","alt","onClick","React","createContext","BookstoreServiceProvider","Provider","BooksstoreServiceConsumer","Consumer","withBookstoreService","Wrapped","props","bookstoreService","bookAddedToCart","bookId","type","payload","fetchBooks","dispatch","getBooks","then","data","catch","err","compose","funcs","comp","reduceRight","wrapped","f","Loader","ErrorIndicator","icon","BookList","books","map","key","id","BookListContainer","this","loading","error","Component","connect","bookList","ownProps","mapDispatchToProps","onIncrease","onDecrease","onDelete","items","shoppingCart","cartItems","item","idx","count","total","reduce","prev","cur","HomePage","to","href","App","role","numItems","path","component","exact","ErrorBoundry","state","hasError","setState","children","BookstoreService","Promise","resolve","reject","setTimeout","Error","updateBookList","action","undefined","updateCartItems","slice","updateOrder","quantity","find","itemIndex","findIndex","newItem","updateCartItem","updateShoppingCart","reducer","console","log","store","createStore","ReactDOM","render","value","document","getElementById"],"mappings":"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","file":"static/js/main.270769a3.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGgAAABoCAYAAAAdHLWhAAAJlUlEQVR4Xu2de1BU1x3Hv2dRUSYqUZO0FBV23cX6otGaEkgiSSONtpM2NnUyE6zEcfKokQWlpNbRxpg0KYqwqE3i2AQDnUlNatKHkKqNooIaH43PyuIuGAhOmprgY7Co7Omcu6wCAfbcvY89kHP+M/zO73zP77O/e3733HNvCGQTOgJEaHVSHCQgwX8EEpAEJHgEBJcnM0gCEjwCgsuTGSQBCR4BweXJDJKABI+A4PJkBklAgkdAcHkygyQgwSMguDyZQRKQ4BEQXJ7MIAlI8AgILk9mkAQkeAQElyczSAJSF4Eiu3UWCLmfAmMIxUB1vUOzpgTNAKkm1Lc3s8a7JTQvxvQSJoMKHdZ7CMgaAFONmSq314MAWet0nynh7mGgoRCAXHZbDghWtZ9ntNWGgcOGGTj1m66b//MZLn7ySYexKCGzs6rPvGOKgB4GCTsg11jbFPhwKKAx/qEZGDv7Mdx+52RTY/Np5V54t/4N3vKyG+NaLHTSwtPe46YK6TRY+AHZx5SC0MeZrnGPp2NqznPhjAcOFeTj5FvFfg2U/NFZcyY9nILCCogVBJSQP7MAxKX9ANN+tzqcsbgxdsVzOajb9g/l34TSn4azcAgrIJfDVgkgmUREYGZxKUZMmCAEoP+eOIGyjHTQ1lamp8rp9qSES1jYALkcYxYBNJ9NfELGPExxZocrBl2Oe9hVgBPFb7T9jSx2us+wCtP0FhZABWPj4iy+CJY9MUNGjcKM4hIMvNWcio03wv/78guUZ8wJVHeNPktrSvbpujre/nrZhQVQkcO2lgLPskkkLV2GhEdn6zUfXf1Uv7sZ+19a6V+LgHWZbs9CXQfgcGY6IFeC7X5QfMi0xSTdjemvbuCQGT6T7c88icb9+/wCCB5wVnt2mqnGfEAO298B/JBNcvr61xCTHLb1lyvOjVWV2L7g6YDtVqfb8yOujjoZmQrIZbc+AUKUldcx61Hcvew3Ok3DWDf7Vq6Ae8u7/kEonees8b5p7Ig3vZsG6BWrdWhUP1JJgfGRQ6Mxc1MJhoyOM2uemsa5eLYOZXPnoOVCE1uLTjZfpym/8novaHLK2dk0QC677QUQLGO6Ji90YuK8+ZwSAW/ZVtTv+hDT8pSqXJdWkbtY8cPr8/gbG3Fkrasti7DSWeNZrouQIE5MAVTkiE+k1FIFgqjh48ZjZnEJLP37c82v5r0tqHrBfymMm57GHdCenDM4ddu3qfLpu3YNZRlzcP7USYCimRBfcqa79ijXJDQYmQLI5bC9BWAO03nfy3lgG6I87fTmt3Hg5Zc6mGqF1B5OwDGvz9oPyrF7SW6gW4nT7fk5zzy02BgOqMBh+4kFeI+JHP1gGlJX8V2mTpWW4GB+Xpdz4w1o585dwVELadcvF+PsDn/2+YBHst2e97UACNbXcEAuh20PgHsIIZixqRS3TZwUTBNOvPkHHC4q7NFOLaSe4KiB9PnxYyifmw5KKeu21+n23Bt0QhoMDAVUlGDNopQUMH3j5z6B72YtCir16IbX8PGr64PaqVmTeOCogXSocA1ObvJX2oTQ7Mxqb8+/Jq7ZdG1kGKBCq3UU6UfYflvs4NhYzCguxaDhw4NK/bLGjYrcHFyoqw1qywNJDZxRD3wfqXn5YLvrPbUr58+jPCMdlxoamFkDvU5Tsrzejo9kudQHNzIOUILNRSgymYSkJUuRMPux4GraLL44/W/syl2MS/X1XH26u9ypgTNyWiqm5a1GxIBIrjGrN7+N/W0FDCUoyqr2OLk6qjQyBFCh3X4fIb4KpuWbd30Paa9vVCkLYM9kWIAvn2vk6tsZkho430q5F6l5q9EvKoprrIDRtqfm49xHB5R/UmqZllVTs1uVAw5jQwAV2W1/oQQPs/EfXPd7sACE0j4/+jF25eaAHergaQFIauCwDVt2szpg8GCeITrYfFq5Bzue/YXy3wjFXzNrPD9W7SRIB90BuRy2uQCUh/r2R2YhefkKTZo/O3JYySR23edpDFLgJjSY/Tem3qWsOZHR0cFMu/07u4lmN9NtLcPp9mwK2VkXHXUFtH7cuFuuXW+pIsDEAUOGKDsGQ+OtmvWeO/iRAqmlqUmzr4CDOyZPUdacQcNHaPJ5odar7DBcvXgRFDjev19k8oJTpy5rctqus66AChzW5y0gyr7MnQsWYtL8J/XSicZ9VUp1d/XyJc0+b0tMVDIn6vY7NPtiDo5t3IB/rV+r+PKBrsh2e5/XxbH/QaF+rchu20kJUoeN/baSPRGRfBURr4KGvXuUTLp+5Qpvl6/YjRg/QVlzbomJCdlH546tLS1KFrHqE6AHnG5vkl7OdQO0JjZ2UERUZDMTlvCz2Uj6tbJxrXurr9ilQGq9elW1b/bDYZkzeORI1X2DdTiYvwqnStmWI9Da3BK1qKEh9F+REZe4woT4SYRalN3dlBUvYszDuhc0N2Sf/ecO5XJHfcqxKK52q92hrDlD4+K57NUa1X5Qht1L/IcuKfElZlXXHlProyt73TLITEBsImpKaWaf+NQz+M7T/pLYiCY8ILMucaHACQAxEpLwlzgWBKOLBC1wjITUK4oEFgAjy2w94BgFqdeU2UbdqOoJR29IvepGlU1e760etXDYi19NXg9XHaDHmtSrtnoCUdFrszQUOOwmlFV4ZkDqlZulLKh6PG4IFU60zYYmj8cUSL32cYMCScMDOy1wAllsNKRe/cBOARTiI2894BgNqU888lbui0I4NKJmh4AVBGzNYZe17poRmdQnDo0EAhbKsas9S5fAW8Zegui+8cBRm0k8VV2fOnblv3kN7eBi1YrlqHlfOe/4laYGDi8kHjjMV587uNh2bxTS0d/9v30R1e/8qQOgUOAEg8QLp08e/VXWIg2H59tvQmqB0x0kXjh9+vC8kkUaXj85ss6F+p07gxYEPS5a7f4YKBxGT0/jfgTRp18/YbHR+gIXC2pP1RovnPaZxOvva/EClz+L5CuQan9Iuj1R5R3YJV8i5g2VYmc+IPkavtiA/FWd/JAFLyXTM0i5eZWfguHlY/4lLqBMfkyJj1FYMugmJPk5smCYwgpIftAvGJ4wVHGdJbnkJzF7pBTWDFJuXuVHZcUG1LZPJz/L3A2msGdQQJf8sHnXhIQBFJAn/9cAHUEJByh4XfP1spCABOctAUlAgkdAcHkygyQgwSMguDyZQRKQ4BEQXJ7MIAlI8AgILk9mkAQkeAQElyczSAISPAKCy5MZJAEJHgHB5ckMkoAEj4Dg8mQGSUCCR0BweTKDJCDBIyC4vP8DYDGtpXmSk9AAAAAASUVORK5CYII=\"","import React from 'react';\n\nconst CartPage = () => {\n    return (\n        <div>\n            Cart Page \n        </div>\n    )\n}\n\nexport default CartPage;","import React from 'react';\n\nimport './book-list-item.css'\n\n const BookListItem = ({book, onAddedToCart}) => { \n\n    const { title, author, price, coverImage} = book\n\n     return (\n        <div className=\"book-list-item\">\n            <div className=\"book-cover\">\n                <img src={coverImage} alt=\"cover\" />\n            </div>\n            <div className=\"book-details\">\n                <span  className=\"book-title\"> {title} </span>\n                <div className=\"book-author\"> {author} </div>\n                <div className=\"book-price\"> ${price} </div>\n                <button\n                    onClick={onAddedToCart}\n                    className=\"btn btn-info add-to-cart\">Add to cart</button>\n            </div>\n        </div>\n     )\n }\n\n export default BookListItem","import React from 'react';\n\nconst {\n    Provider: BookstoreServiceProvider,\n    Consumer: BooksstoreServiceConsumer\n} = React.createContext()\n\nexport {\n    BookstoreServiceProvider,\n    BooksstoreServiceConsumer\n};","import React from 'react';\nimport { BooksstoreServiceConsumer } from '../bookstore-services-context/bookstore-service-context'\n\nconst withBookstoreService = () => (Wrapped) => {\n\n    return (props) => {\n        return (\n            <BooksstoreServiceConsumer>\n                {\n                    (bookstoreService) => {\n                        return (\n                            <Wrapped {...props} \n                                    bookstoreService = {bookstoreService} />\n                        )\n                    }\n                }\n            </BooksstoreServiceConsumer>\n        )\n    }\n}\n\nexport default withBookstoreService","const booksLoaded = (newBooks) => {\n    return {\n        type: 'FETCH_BOOKS_SUCCESS',\n        payload: newBooks\n    }\n}\n\nconst booksReuested = () => {\n    return {\n        type: 'FETCH_BOOKS_REQUEST'\n    }\n}\n\nconst booksError = (error) => {\n    return {\n        type: 'FETCH_BOOKS_FAILURE',\n        payload: error\n    }\n}\n\nconst bookAddedToCart = (bookId)=> {\n    return {\n        type: 'BOOK_ADDED_TO_CART',\n        payload: bookId\n    }\n}\n\nconst bookRemovedFromCart = (bookId)=> {\n    return {\n        type: 'BOOK_REMOVED_FROM_CART',\n        payload: bookId\n    }\n}\n\nconst allBooksRemovedFromCart = (bookId)=> {\n    return {\n        type: 'ALL_BOOKS_REMOVED_FROM_CART',\n        payload: bookId\n    }\n}\n\nconst fetchBooks = (bookstoreService, dispatch) => () => {\n    dispatch(booksReuested()) \n    bookstoreService.getBooks()\n        .then((data) => {\n            dispatch(booksLoaded(data))\n        })\n        .catch((err) => dispatch(booksError(err)))\n}\n\nexport {\n    fetchBooks,\n    bookAddedToCart,\n    bookRemovedFromCart,\n    allBooksRemovedFromCart\n}","const compose = (...funcs) => (comp) => {\n    return funcs.reduceRight(\n        (wrapped, f) => f(wrapped), comp)\n}\n\nexport default compose;","import React from 'react';\nimport './loader.css'\n\nconst  Loader = () => {\n    return <div className=\"lds-grid\">\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n            </div>\n}\n\nexport default Loader;","import React from 'react';\n\nimport './error-indicator.css';\nimport icon from './error-indicator.png';\n\nconst ErrorIndicator = () => {\n  return (\n    <div className=\"error-indicator\">\n      <img src={icon} alt=\"error icon\"/>\n      <span>\n        SOMETHING HAS GONE TERRIBLY WRONG\n      </span>\n    </div>\n  );\n};\n\nexport default ErrorIndicator;\n","import React from 'react';\nimport { connect } from 'react-redux';\n\n\nimport BookListItem from '../book-list-item/book-list-item'\nimport withBookstoreService from '../hoc/with-bookstore-service'\nimport { fetchBooks, bookAddedToCart } from '../../actions/actions'\nimport compose from '../../utils/compose'\nimport Loader from '../loader/loader'\nimport ErrorIndicator from '../error-indicator/error-indicator'\n\nimport './book-list.css'\n\nconst BookList = ({books, onAddedToCart}) => {\n    return(\n        <ul className=\"book-list\">\n            {\n                books.map((book) => {\n                    return (\n                        <li key={book.id}>\n                            <BookListItem book={book} onAddedToCart={()=> onAddedToCart(book.id)}/>\n                        </li>\n                    )\n                })\n            }\n        </ul>\n    )\n}\n\nclass BookListContainer  extends React.Component {\n\n    componentDidMount () {\n        this.props.fetchBooks();\n    }\n\n    // componentDidMount () {\n    //     //1 receive data (получить данные)\n    //     const { bookstoreService,\n    //             booksLoaded,\n    //             booksReuested,\n    //             booksError} = this.props\n    //     booksReuested() // loading \n    //     bookstoreService.getBooks()\n    //         .then((data) => {\n    //             booksLoaded(data)\n    //         })\n    //         .catch((err) => booksError(err))\n\n\n    //     // 2 передать действия в стор\n    //     // this.props.booksLoaded(data);\n    // }\n\n    render() {\n\n        const {books, loading, error, onAddedToCart} = this.props\n\n        if (loading) {\n            return <Loader/>\n        }\n        if (error) {\n            return <ErrorIndicator/>\n        }\n\n        return (\n            <BookList books={books} onAddedToCart={onAddedToCart}/>\n        )\n    }\n}\n\nconst mapStateToProps = ({bookList}) => {\n    return {\n        books: bookList.books,\n        loading: bookList.loading,\n        error: bookList.error\n    }\n}\n\nconst mapDispatchToProps = (dispatch, ownProps) =>  {\n        const {bookstoreService} = ownProps\n        return {\n            fetchBooks: fetchBooks(bookstoreService, dispatch),\n            onAddedToCart: (id) => dispatch(bookAddedToCart(id))\n        }\n    }\n\n// const mapDispatchToProps = { // redux обернет booksLoaded в bindActionCreators и как только наш компонент будет вызывыть функция booksLoaded будет не только создаваться новое дейстие но оно будет сразу передоваться в dispatch и сразу же попадать в наш стор\n//     booksLoaded,\n//     booksReuested,\n//     booksError\n// }\n// const mapDispatchToProps = (dispatch) => {\n//     return (\n//         bindActionCreators ({\n//             booksLoaded\n//         }, dispatch)\n//     )\n// }\n\n// export default withBookstoreService()(\n//     connect(mapStateToProps, mapDispatchToProps) (BookList));\n\nexport default compose(\n    withBookstoreService(),\n    connect(mapStateToProps, mapDispatchToProps)\n    ) (BookListContainer);","import React from 'react';\nimport { connect } from 'react-redux'\n\nimport {bookAddedToCart,\n        allBooksRemovedFromCart,\n        bookRemovedFromCart} from '../../actions/actions'\n\nimport './shop-cart-table.css'\n\nconst ShopCartTable = ({items,  onIncrease, onDecrease, onDelete}) => {\n\n\n    const renderRow = (item, idx) => {\n\n    const {id, title, count, total} = item;\n\n        return (\n            <tr key={id}>\n                <td>{idx + 1}</td>\n                <td>{title}</td>\n                <td>{count}</td>\n                <td>${total}</td>\n                <td>\n                    <button\n                        onClick={()=> onDelete(id)} \n                        className=\"btn btn-outline-danger btn-sm float-right\">\n                        <i className=\"fa fa-trash-o\" />\n                    </button>\n                    <button\n                        onClick={()=> onIncrease(id)}\n                        className=\"btn btn-outline-success btn-sm float-right\">\n                        <i className=\"fa fa-plus-circle\" />\n                    </button>\n                    <button\n                        onClick={()=> onDecrease(id)}\n                        className=\"btn btn-outline-warning btn-sm float-right\">\n                        <i className=\"fa fa-minus-circle\" />\n                    </button>\n                </td>\n            </tr>\n        )\n    }\n\n\n    \n\n    return (\n        <div className=\"shopping-cart-table\">\n            <h2>Your order</h2>\n            <table className='table'>\n                <thead>\n                    <tr>\n                        <th>#</th>\n                        <th>Item</th>\n                        <th>Count</th>\n                        <th>Price</th>\n                        <th>Action</th>\n                    </tr>\n                </thead>\n\n                <tbody>\n                { items.map(renderRow) }\n                </tbody>\n            </table>\n\n            <div className=\"total\">\n                Total: ${items?.reduce((prev, cur) =>  prev+cur.total,0)}\n            </div>\n            {/* Total: ${items?.reduce((prev, cur) =>  prev+cur.total,0)} */}\n\n        </div>\n    )\n}\n\nconst mapStateToProps = ({shoppingCart}) => {\n    return {\n        items: shoppingCart.cartItems,\n        // total: shoppingCart.orderTotal\n    }\n}\n\nconst mapDispatchToProps =  {\n        onIncrease: bookAddedToCart,\n        onDecrease: bookRemovedFromCart,\n        onDelete: allBooksRemovedFromCart\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ShopCartTable)","import React from 'react';\n\nimport BookListContainer from '../book-list/book-list'\nimport ShopCartTable from '../shop-cart-table/shop-cart-table.js'\n\n\nconst HomePage = () => {\n\n    return (\n        <div>\n            <BookListContainer/>\n            <ShopCartTable/>\n        </div>\n    )\n}\n\nexport default HomePage;","import React from 'react';\nimport './store-header.css'\nimport { Link } from 'react-router-dom'\nimport {connect} from 'react-redux'\n\nconst StoreHeader = ({items}) => {\n    return (\n    <header className=\"shop-header row\">\n        <Link to=\"/\">\n            <div className=\"logo text-dark\" href=\"/\">Redux Store</div>\n        </Link>\n        <Link to=\"/cart\">\n            <div className=\"shopping-cart\">\n                <i className=\"cart-icon fa fa-shopping-cart\" />\n                    {items?.reduce((prev, cur) =>  prev+cur.count,0)}\n                <span> items</span> \n                (${items?.reduce((prev, cur) =>  prev+cur.total,0)})\n            </div>\n        </Link>\n    </header>\n    )\n}\n\nconst mapStateToProps = ({shoppingCart}) => {\n    return {\n        items: shoppingCart.cartItems\n    }\n}\n\n\n\nexport default connect(mapStateToProps)(StoreHeader);","import React from 'react';\nimport {Route, Switch,Redirect} from 'react-router-dom'\n\n\nimport CartPage from '../pages/cart-page'\nimport HomePage from '../pages/home-page'\nimport StoreHeader from '../store-header/store-header';\n\n\nimport './app.css'\n\n\n\n\n\nconst  App = () =>{\n  return (\n    <main role=\"main\" className=\"container\">\n      <StoreHeader numItems={5} total={210}/>\n      <Switch>\n      <Route\n        path='/'\n        component = {HomePage} \n        exact />\n      <Route\n        path='/cart'\n        component= {CartPage} />  \n        <Redirect to='/' />\n      </Switch>\n    </main>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ErrorIndicator from '../error-indicator/error-indicator'\n\nexport default class ErrorBoundry extends React.Component {\n\n    state = {\n        hasError: false\n    }    \n\n    componentDidCatch() {\n        this.setState({\n            hasError: true\n        })\n    }\n\n    render (){\n        if (this.state.hasError) {\n            return <ErrorIndicator/>\n        }\n        return this.props.children\n    }\n}"," export default class BookstoreService {\n\n    data = [\n        {   id:1, \n            title: 'Kinder Joy Chocolates For Girls, 24 Pieces',\n            author: 'Ferrero',\n            price: 24,\n            coverImage: 'https://images-na.ssl-images-amazon.com/images/I/61xHZArjwUL._SL1101_.jpg'},\n\n        {   id:2, \n            title: 'Kinder Country Delicious Candy Bar',\n            author: 'Ferrero',\n            price: 42,\n            coverImage: 'https://images-na.ssl-images-amazon.com/images/I/61aVWpWHuYL._SL1024_.jpg'}\n    ];\n\n    getBooks(){\n        return new Promise ((resolve, reject) => {\n            setTimeout (()=> {\n                resolve(this.data)\n                reject(new Error('Something bad'))\n            }, 500)\n        })\n    }\n\n }","const updateBookList = (state, action) => {\n\n    if (state === undefined){\n        return {\n            books: [],\n            loading: true,\n            error: null,\n        }\n    }\n\n    switch (action.type) {\n        case 'FETCH_BOOKS_REQUEST':\n            return {\n                books: [],\n                loading: true,\n                error: null\n            };\n    \n        case 'FETCH_BOOKS_SUCCESS':\n            return {\n                books: action.payload,\n                loading: false,\n                error: null\n            };\n    \n        case 'FETCH_BOOKS_FAILURE':\n            return {\n                books: [],\n                loading: false,\n                error: action.payload\n            };\n    \n        default:\n            return state.bookList;\n    }\n};\n\nexport default updateBookList;","const updateShoppingCart = (state, action) => {\n\n    if (state === undefined) {\n        return {\n            cartItems: [],\n            // orderTotal: 0\n        }\n    }\n\n    switch(action.type) {\n        case 'BOOK_ADDED_TO_CART':\n            return updateOrder(state, action.payload, 1);\n    \n        case 'BOOK_REMOVED_FROM_CART':\n            return updateOrder(state, action.payload, -1);\n    \n        case 'ALL_BOOKS_REMOVED_FROM_CART':\n            const item = state.shoppingCart.cartItems.find(({id}) => id === action.payload);\n            return updateOrder(state, action.payload, -item.count);\n    \n        default:\n            return state.shoppingCart;\n    }\n};\n\nconst updateCartItems = (cartItems, item, idx) => {\n    \n    if (item.count === 0){\n        return [\n            ...cartItems.slice(0,idx),\n            ...cartItems.slice(idx + 1)\n        ]\n    }\n\n    if (idx === -1){\n        return [\n            ...cartItems,\n            item\n        ]\n    }\n\n    return [\n        ...cartItems.slice(0,idx),\n        item,\n        ...cartItems.slice(idx + 1)\n    ]\n}\n\nconst updateCartItem = (book, item = {}, quantity) => {\n\n    const {\n        id = book.id, \n        count = 0,\n        title = book.title,\n        total = 0\n    } = item;\n\n    return {\n        id,\n        title,\n        count: count + quantity,\n        total: total + quantity*book.price\n    }\n\n            // if (item) {\n            //     return {\n            //         ...item,\n            //         count: item.count + 1,\n            //         total: item.total + book.price\n            //     }\n            // } else {\n            //     return {\n            //         id: book.id,\n            //         title: book.title,\n            //         count: 1,\n            //         total: book.price\n            //     }\n            // }\n}\n\n// const updateOrderTotal = (cartItems, book) => {\n//     const {total} = cartItems\n//     const { price} = book\n//     const order= {?total. reduce((prev, cur)=> prev+cur)}\n//     return {\n//         orderTotal: \n//     }\n// }\n\n\n\nconst updateOrder = (state, bookId, quantity) => {\n\n    const { shoppingCart: {cartItems}, bookList: {books} } = state\n            const book = books.find((book) => book.id === bookId);\n            const itemIndex = cartItems.findIndex((book) => book.id === bookId)\n            const item = cartItems[itemIndex]\n            \n            const newItem =  updateCartItem (book, item, quantity)\n            \n                return {\n                    // orderTotal: 250,\n                    cartItems: updateCartItems(cartItems, newItem, itemIndex)\n                }\n}\n\nexport default updateShoppingCart;","import updateBookList from './bookList'\nimport updateShoppingCart from './shoppingCart'\n\n\nconst reducer = (state , action) => {\n\n    console.log(action.type)\n\n    return {\n        bookList: updateBookList(state, action),\n        shoppingCart: updateShoppingCart(state, action)\n    }\n}\n\nexport default reducer;            \n        // case 'FETCH_BOOKS_REQUEST':\n        //     return {\n        //         ...state, // copy this current state and change other  \n        //         books: [],\n        //         loading: true,\n        //         error: null\n        //     };\n        // case 'FETCH_BOOKS_SUCCESS':\n        //     return {\n        //         ...state,\n        //         books: action.payload,\n        //         loading: false,\n        //         error: null\n        //     };\n\n        // case 'FETCH_BOOKS_FAILURE':\n        //     return {\n        //         ...state,\n        //         books: [],\n        //         loading: false,\n        //         error: action.payload\n        //     }  \n\n        // case'BOOK_ADDED_TO_CART':\n        // return  (\n        //     updateOrder(state, action.payload, 1)\n        // )\n        \n            // const bookId = action.payload;\n            // const book = state.books.find((book) => book.id === bookId);\n            // const itemIndex = state.cartItems.findIndex((book) => book.id === bookId)\n            // const item = state.cartItems[itemIndex]\n            \n            // const newItem =  updateCartItem (book, item)\n            \n            //     return {\n            //         ...state,\n            //         cartItems: updateCartItems(state.cartItems, newItem, itemIndex)\n            //     }\n\n        // case'BOOK_REMOVED_FROM_CART':\n        // return (\n        //     updateOrder(state, action.payload, -1)\n        // )\n\n        \n        // case'ALL_BOOKS_REMOVED_FROM_CART':\n        // const item = state.cartItems.find((book) => book.id === action.payload)\n        // return (\n        //     updateOrder(state, action.payload, -item.count)\n        // )\n","import { createStore } from 'redux';\n// import thunkMiddleware from 'redux-thunk'\n\nimport reducer from './reducers/reducer'\n\nconst store = createStore(reducer)\n\n// const myAction = (dispatch) => {\n//     setTimeout(() => dispatch({\n//         type: 'DELAYED_ACTION'\n//     }), 2000)\n// }\n\n// store.dispatch(myAction)\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux'\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nimport App from './components/app/app';\nimport ErrorBoundry from './components/error-boundry/error-boundry'\nimport BookstoreService from './servises/bookstore-service'\nimport { BookstoreServiceProvider } from './components/bookstore-services-context/bookstore-service-context'\n\nimport store from './store'\n\nconst bookstoreService = new BookstoreService()\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundry>\n      <BookstoreServiceProvider value = {bookstoreService}>\n        <Router>\n          <App/>\n        </Router>\n      </BookstoreServiceProvider>\n    </ErrorBoundry>\n  </Provider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}